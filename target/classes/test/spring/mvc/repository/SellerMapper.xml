<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="test.spring.mvc.repository.SellerMapper">
    <select id="findallproductbycompanyid" parameterType="string" resultType="test.spring.mvc.bean.ProductDTO">
        select * from ${companyid}_product
    </select>

    <select id="findthumimg" parameterType="java.util.Map" resultType="test.spring.mvc.bean.ProductimgDTO">
	    select * from ${companyid}_productimg where
	    companyid = #{companyid}
	    AND category = #{category}
	    AND category2 = #{category2}
	    AND flavor = #{flavor}
	    AND thum = 1
	</select>


    <select id="findproductdetail" parameterType="string" resultType="test.spring.mvc.bean.ProductDTO">
        SELECT * FROM ${companyid}_product WHERE companyid = #{companyid} AND category = #{category} AND category2 = #{category2} AND flavor = #{flavor}
    </select>
    
    <insert id="addCoupon" parameterType="test.spring.mvc.bean.AllcouponDTO">
        INSERT INTO allcoupon
        (coupon, couponid, createdate, deletedate, companyid, download, discount, boardnums, admincheck)
        VALUES
        (#{coupon}, #{couponid}, #{createdate}, #{deletedate}, #{companyid}, #{download}, #{discount}, #{boardnums}, #{admincheck})
    </insert>
</mapper>
