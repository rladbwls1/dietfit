<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="test.spring.mvc.repository.MemberMapper">
	<insert id="newMember" parameterType="test.spring.mvc.bean.Member_basicDTO">
		insert into Member_basic (id,pw,name,nic,email) values(#{id},#{pw},#{name},#{nic},#{email})
	</insert>
	<insert id="newMemberstatus" >
		insert into authorities values(#{id}, 'ROLE_1')
	</insert>
	<insert id="newMember2" parameterType="test.spring.mvc.bean.Member_detailDTO">
		insert into Member_detail (id,path) values(#{id},#{path})
	</insert>
	<select id="registerEmailCheck" resultType="int">
		select count(*) from member_basic where email=#{email}
	</select>
	<select id="registerIdCheck" resultType="int">
		select count(*) from member_basic where id=#{id}
	</select>
	<select id="loginKakao" resultType="test.spring.mvc.bean.Member_basicDTO">
		select id,pw from member_basic where email=#{email}
	</select>

	
</mapper>